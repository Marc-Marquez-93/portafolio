<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-LN+7fdVzj6u52u30Kp6M/trliBMCMKTyK833zpbD+pXdCLuTusPj697FH4R/5mcr" crossorigin="anonymous">

    <title>Document</title>
</head>

<body>
    <div style="display: flex; flex-direction: column; gap: 20px; padding: 10px; 
    box-shadow: 2px 2px 2px 2px gray; ">
        <h3>Registro de datos</h3>
        <input type="text" name="" id="nombre" placeholder="Digite el nombre" required>
        <input type="text" name="" id="apellidos" placeholder="Digite el apellido">
        <input type="text" name="" id="documento" placeholder="Digite el documento">
        <input type="text" name="" id="correo" placeholder="Digite el correo">
        <button id="save" onclick="guardar()">Guardar</button>
        <button type="button" class="btn btn-primary">Primary</button>
        <button type="button" class="btn btn-secondary">Secondary</button>
    </div>
    <div>
        <table class="table table-dark table-striped">
            <thead>
                <tr>
                    <th>Nombres</th>
                    <th>Apellidos</th>
                    <th>Documento</th>
                    <th>Correo</th>
                    <th>Opciones</th>
                </tr>
            </thead>
            <tbody id="bodyData">

            </tbody>
        </table>
    </div>
    <script>
        let datos = []
        function guardar() {

            if (document.getElementById("save").textContent == "Guardar") {
                if (document.getElementById("nombre").value == "") {
                    alert("Por favor digite el nombre")
                } else if (document.getElementById("apellidos").value == "") {
                    alert("Por favor digite el apellidos")
                } else if (document.getElementById("documento").value == "") {
                    alert("Por favor digite el documento")
                } else if (document.getElementById("correo").value == "") {
                    alert("Por favor digite el correo")
                    
                } else {
                    let reg = {
                        nombre: document.getElementById("nombre").value,
                        apellidos: document.getElementById("apellidos").value,
                        documento: document.getElementById("documento").value,
                        correo: document.getElementById("correo").value
                    }
                    datos.push(reg)
                    console.log(datos);
                    document.getElementById("bodyData").innerHTML = ""
                    pintarDatos()
                    //limpiar()
                }
            } if (document.getElementById("save").textContent == "Editar") {
                let indice = datos.findIndex((item, i)=>item.documento == document.getElementById("documento").value)
                console.log(indice);
                datos[indice].nombre = document.getElementById("nombre").value
                datos[indice].apellidos = document.getElementById("apellidos").value
                datos[indice].documento = document.getElementById("documento").value
                datos[indice].correo = document.getElementById("correo").value
                document.getElementById("bodyData").innerHTML = ""
                pintarDatos()
                document.getElementById("save").textContent = "Guardar"
            }
        }

        function pintarDatos() {
            datos.forEach((item, i) => {
                let tr = document.createElement("tr")
                let td1 = document.createElement("td")
                td1.textContent = item.nombre
                let td2 = document.createElement("td")
                td2.textContent = item.apellidos
                let td3 = document.createElement("td")
                td3.textContent = item.documento
                let td4 = document.createElement("td")
                td4.textContent = item.correo
                let td5 = document.createElement("td")
                let btn1 = document.createElement("button")
                btn1.textContent = "📝"
                let btn2 = document.createElement("button")
                btn1.addEventListener("click", () => {
                    document.getElementById("nombre").value = item.nombre
                    document.getElementById("apellidos").value = item.apellidos
                    document.getElementById("documento").value = item.documento
                    document.getElementById("correo").value = item.correo
                    document.getElementById("save").textContent = "Editar"
                    
                })
                btn2.textContent = "❌"
                btn2.addEventListener("click", () => {
                    /* datos.splice(i,1)
                    console.log(datos);
                    document.getElementById("bodyData").innerHTML=""
                    pintarDatos() */

                })
                td5.appendChild(btn1)
                td5.appendChild(btn2)
                tr.appendChild(td1)
                tr.appendChild(td2)
                tr.appendChild(td3)
                tr.appendChild(td4)
                tr.appendChild(td5)
                document.getElementById("bodyData").appendChild(tr)
            })
        }

        function limpiar() {
            document.getElementById("nombre").value = ""
            document.getElementById("apellidos").value = ""
            document.getElementById("documento").value = ""
            document.getElementById("correo").value = ""
        }


        /* function pintarDatos(){
            datos.forEach((item, i)=>{
                document.getElementById("bodyData").innerHTML+=`
                    <tr>
                        <td>${item.nombre}</td>    
                        <td>${item.apellidos}</td>   
                        <td>${item.documento}</td>   
                        <td>${item.correo}</td>   
                    </tr>
                `
            })
        } */

    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ndDqU0Gzau9qJ1lfW4pNLlhNTkCfHzAVBReH9diLvGRem5+R9g2FzA8ZGN954O5Q"
        crossorigin="anonymous"></script>
</body>

</html>